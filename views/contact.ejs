<%
const inputDefaultClasses = 'border-gray-300 focus:ring-indigo-500 focus:border-indigo-500';
const inputErrorClasses = 'bg-red-50 border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500 dark:bg-red-100 dark:border-red-400 dark:text-red-600 dark:placeholder-red-500 dark:focus:ring-red-500 dark:focus:border-red-500';
%>

<div class="container mx-auto px-4">
    <h1 class="text-3xl font-semibold text-gray-900 dark:text-white">Contact</h1>
    <div class="mt-6 text-gray-600 dark:text-gray-400">

        <%- include('_partials/validationErrors', errors) %>

        <div class="grid grid-flow-row md:grid-cols-2 grid-rows-2 gap-5">
            <form method="POST">
                <div class="mb-4">
                    <label for="name"
                           class="block text-sm font-medium
                                <%= errors.some(error => error.path === 'name')
                                   ? 'text-red-700 dark:text-red-500'
                                   : 'text-gray-700' %>">
                        Name
                    </label>
                    <input type="text" id="name" name="name" required minlength="3"
                           value="<%= oldInput.name || (!isGuest ? user.name : '') %>"
                           class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm
                                <%= errors.some(error => error.path === 'name')
                                   ? inputErrorClasses
                                   : inputDefaultClasses %>
                           "
                    />
                </div>
                <div class="mb-4">
                    <label for="email"
                           class="block text-sm font-medium
                            <%= errors.some(error => error.path === 'email')
                                   ? 'text-red-700 dark:text-red-500'
                                   : 'text-gray-700' %>
                           "
                    >
                        Email
                    </label>
                    <input type="email" id="email" name="email" required
                            value="<%= oldInput.email || (!isGuest ? user.email : '') %>"
                           class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm
                                <%= errors.some(error => error.path === 'email')
                                   ? inputErrorClasses
                                   : inputDefaultClasses %>
                           "
                    />
                </div>
                <div class="mb-4">
                    <label for="message"
                           class="block text-sm font-medium
                            <%= errors.some(error => error.path === 'message')
                                   ? 'text-red-700 dark:text-red-500'
                                   : 'text-gray-700' %>
                           "
                    >
                        Message
                    </label>
                    <textarea id="message" name="message" rows="5" required minlength="10"
                              class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none sm:text-sm
                                <%= errors.some(error => error.path === 'message')
                                      ? inputErrorClasses
                                      : inputDefaultClasses %>
                              "
                    ><%= oldInput.message || '' %></textarea>
                </div>
                <button type="submit"
                        class="inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    Submit
                </button>
            </form>
            <p>
                Feel free to contact me with any questions or feedback you may have. You can reach me at
                <a href="mailto:example@example.com" class="underline text-blue-600 hover:text-blue-400">
                    example@example.com</a>.
                I look forward to hearing from you!
            </p>
        </div>
    </div>
</div>